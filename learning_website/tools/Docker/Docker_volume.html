<html><h2><center><u>Docker Volume & How to share it</u></center></h2>
<pre><h4>
-> Volume is simply a directory inside our container.

-> Firstly, we have to declare this directory as a volume and then share volume.

-> Even if we stop container, still we can access volume.

-> Volume will be created in one container.

-> You can declare a directory as a volume only while creating container.

-> You can't create volume from existing container.

-> You can share one volume across any number of containers.

-> Volume will be included when you update the an image.

-> You can map volume in two ways (container <-> container, host <-> container).

<h2><u>Benefits of Volume</u></h2>
-> Decoupling container from storage.
-> Share volume among different containers.
-> Attach volume to containers.
-> On deleting container volume does not delete.

<h2><u>You can map volume in two ways:-</u></h2>

<u>1. container to container-</u>
i) From Dockerfile:-

a. Create docker file (mentioned below), build the docker image from docker file (docker build -t myimage .)
   and create a container from image and run it (docker run -it --name container1 myimage /bin/bash).

<u>sample simple docker file</u>
FROM ubuntu
VOLUME ["/myvolume1"]

b. Now, for sharing volume created in the first container to different container

docker run -it --name container2 --privileged=true --volumes-from container1 ubuntu /bin/bash

ii) From command line:-
a. docker run -it --name container3 -v /volume2 ubuntu /bin/bash
b. docker run -it --name container4 --privileged=true --volumes-from container3 ubuntu /bin/bash

<u>2. Host to container-</u>
docker run -it --name hostconnect -v /home/ec2-user:/volumes3 --privileged=true ubuntu /bin/bash   

<u>Some Docker Volume commands</u>

-> docker volume ls
-> docker volume create volumename
-> docker volume rm volumename
-> docker volume prune {it will remove all unused docker volume}
-> docker volume inspect volumename
-> docker container inspect volumename

</h4></pre>
</html>
