<html><h3>Ansible Ad-hoc Commands</h3>
<h4><pre>
=> Ad-hoc Commands are commands which can be run individually to perform quick functions.
=> These ad-hoc commands are not used for configuration Management and deployment, because these commands are of one time usage.
=> The ansible ad-hoc commands uses the /usr/bin/ansible command line tool to automate a single task.
=> If you run ansible ad-hoc command without module command, it will always shows changed because you're not using ansible module.
=> If you don't pass module in ad-hoc commands, then ansible takes command module by default.
=> Command module is not idempotent, whereas all the module in ansible is idempotent. {check this fact}
=> We use the adhoc command to check on the resources, logs, in the case of debug, restart the server, manager user or group, rebooting the server and maintaining cron jobs etc.
=> Ansible command module doesn't handle pipe or redirections. You can use shell module to do the same task.
=> >, | => used in playbook on command module
=> ansible-inventory --list -i inventory

<u><h3>Some arguments which can be used in adhoc commands or playbook</h3></u>

<u>-b/--become =></u> is become, change the user to sudo or root. 

<u>-k/--ask-become-pass/--ask-pass/-K =></u>

check below:
ansible -i inventory example -m ping -u centos --ask-pass
-K/--ask-pass

Some ad-hoc commands - 
1. ansible demo -a "ls"
2. ansible demo[0:4] -a "touch file"
3. ansible all -a "touch file4"
4. ansible demo -a "sudo yum install httpd -y" or ansible demo -ba "yum install httpd -y"
5. ansible demo -ba "yum remove httpd -y"

<u><h3>Forks and Parallelization</h3></u>
1. If you run the same adhoc command multiple times, it will not run in the sequential order on the group mentioned in the inventory. 
2. There would be a chance that group mentioned in the inventory file will get executed randomly.
3. This is because, Ansible by default runs in the parallel nature i.e. by default it uses 5 forks.
4. You can change the behaviour by mentioning -f in adhoc commands.
5. If you mention -f 1, then it will run in sequential manner. It will run on the one server and wait for it to respond and then it will execute the command on another one.
Example -> ansible server -m ping -f 1
6. If you have lot of servers then you can fork 100, to get the result or finish the task fastly.

<u><h3>Setup module</h3></u>
1. This command will give all the details that it will see on the host servers.
2. It is helpful if you want to run playbook based on some criteria or you want to put the template.

</h4>
</pre></html>
